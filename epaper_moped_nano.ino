// Display Library example for SPI e-paper panels from Dalian Good Display and boards from Waveshare.
// Requires HW SPI and Adafruit_GFX. Caution: these e-papers require 3.3V supply AND data lines!
//
// Display Library based on Demo Example from Good Display: http://www.good-display.com/download_list/downloadcategoryid=34&isMode=false.html
//
// Author: Jean-Marc Zingg
//
// Version: see library.properties
//
// Library: https://github.com/ZinggJM/GxEPD2

// 

#define ENABLE_GxEPD2_GFX 0
//#include <Adafruit_GFX.h>
#include <GxEPD2_BW.h>
#include <GxEPD2_3C.h>

#include <Wire.h>

//LDR Dunkel
const int analogInPin = A0;  // 
int sensorValue = 0;  // value read from the pot
int LED1 = 3;
int LED2 = 4;

//Display + Schrift
#include <U8g2_for_Adafruit_GFX.h>
U8G2_FOR_ADAFRUIT_GFX u8g2Fonts;

uint16_t bg = GxEPD_WHITE;
uint16_t fg = GxEPD_BLACK;

//Sensor D1/D2 = SDA/SDL
#include <Adafruit_Sensor.h>
#include <Adafruit_BME280.h>
Adafruit_BME280 bme;
  
//nodemcu display dev

// mapping suggestion for AVR, UNO, NANO etc.
// BUSY -> 7, RST -> 8, DC -> 9, CS-> 10, CLK -> 13, DIN -> 11


#if defined(__AVR)
#define MAX_DISPLAY_BUFFER_SIZE 800 // 
#define MAX_HEIGHT(EPD) (EPD::HEIGHT <= MAX_DISPLAY_BUFFER_SIZE / (EPD::WIDTH / 8) ? EPD::HEIGHT : MAX_DISPLAY_BUFFER_SIZE / (EPD::WIDTH / 8))
// select one and adapt to your mapping
GxEPD2_BW<GxEPD2_154_D67, MAX_HEIGHT(GxEPD2_154_D67)> display(GxEPD2_154_D67(/*CS=10*/ 10, /*DC=*/ 9, /*RST=*/ 8, /*BUSY=*/ 7)); // GDEH0154D67
#endif


//Grafik Temp

const unsigned char tempgif [] PROGMEM = {
  // 'thermometer50x57, 50x57px
  0x00, 0x7f, 0xfe, 0x07, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xfe, 0x07, 0x00, 0x00, 0x00, 0x00, 0x7f, 
  0xfe, 0x07, 0x00, 0xfc, 0x00, 0x00, 0x7f, 0xfe, 0x00, 0x03, 0xfe, 0x00, 0x00, 0x78, 0x1e, 0x00, 
  0x07, 0xff, 0x00, 0x00, 0x78, 0x0e, 0x00, 0x07, 0xff, 0x80, 0x00, 0x78, 0x0e, 0x00, 0x0f, 0x07, 
  0xc0, 0x00, 0x79, 0x8e, 0x00, 0x0f, 0x03, 0xc0, 0x00, 0x7b, 0xde, 0x00, 0x0e, 0x01, 0xc0, 0x00, 
  0x7b, 0xde, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x7b, 0xde, 
  0x00, 0x0e, 0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x0e, 
  0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x0e, 0x00, 0x00, 
  0x00, 0x7b, 0xde, 0x00, 0x0e, 0x01, 0xc0, 0x00, 0x7b, 0xde, 0x00, 0x0f, 0x03, 0xc0, 0x00, 0x7b, 
  0xde, 0x00, 0x0f, 0x07, 0xc0, 0x00, 0x7b, 0xde, 0x00, 0x07, 0xff, 0x80, 0x00, 0x7b, 0xde, 0x00, 
  0x07, 0xff, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x03, 0xfe, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x00, 0xfc, 
  0x00, 0x00, 0x7b, 0xde, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7b, 0xde, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x7b, 0xde, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7b, 0xdf, 0x00, 0x00, 0x00, 0x00, 0x01, 0xfb, 0xcf, 
  0x80, 0x00, 0x00, 0x00, 0x03, 0xf3, 0xcf, 0xc0, 0x00, 0x00, 0x00, 0x07, 0xe3, 0xc7, 0xe0, 0x00, 
  0x00, 0x00, 0x0f, 0x83, 0xc1, 0xf0, 0x00, 0x00, 0x00, 0x1f, 0x03, 0xc0, 0xf8, 0x00, 0x00, 0x00, 
  0x1e, 0x03, 0xc0, 0x7c, 0x00, 0x00, 0x00, 0x3c, 0x03, 0xc0, 0x3c, 0x00, 0x00, 0x00, 0x3c, 0x07, 
  0xe0, 0x1e, 0x00, 0x00, 0x00, 0x78, 0x0f, 0xf8, 0x1e, 0x00, 0x00, 0x00, 0xf8, 0x1f, 0xfc, 0x0e, 
  0x00, 0x00, 0x00, 0xf0, 0x3f, 0xfc, 0x0f, 0x00, 0x00, 0x00, 0xf0, 0x3f, 0xfe, 0x0f, 0x00, 0x00, 
  0x00, 0xf0, 0x7f, 0xfe, 0x0f, 0x00, 0x00, 0x00, 0xf0, 0x7f, 0xfe, 0x0f, 0x00, 0x00, 0x00, 0xf0, 
  0x7f, 0xfe, 0x0f, 0x00, 0x00, 0x00, 0xf0, 0x7f, 0xfe, 0x0f, 0x00, 0x00, 0x00, 0xf0, 0x3f, 0xfe, 
  0x0f, 0x00, 0x00, 0x00, 0xf0, 0x3f, 0xfc, 0x0f, 0x00, 0x00, 0x00, 0xf8, 0x1f, 0xf8, 0x0e, 0x00, 
  0x00, 0x00, 0x78, 0x0f, 0xf0, 0x1e, 0x00, 0x00, 0x00, 0x3c, 0x07, 0xe0, 0x1e, 0x00, 0x00, 0x00, 
  0x3c, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00, 0x1f, 0x00, 
  0x00, 0xf8, 0x00, 0x00, 0x00, 0x0f, 0xc0, 0x01, 0xf0, 0x00, 0x00, 0x00, 0x07, 0xf0, 0x07, 0xe0, 
  0x00, 0x00, 0x00, 0x03, 0xff, 0xff, 0xc0, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0x80, 0x00, 0x00, 
  0x00, 0x00, 0x7f, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xf8, 0x00, 0x00, 0x00, 0x00
};

// 'humidity', 40x40px
const unsigned char humidity [] PROGMEM = {
  0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 0x00, 0x00, 
  0x00, 0xe0, 0x00, 0x00, 0x00, 0x01, 0xc0, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x03, 
  0x00, 0xc0, 0x00, 0x00, 0x06, 0x00, 0xc0, 0x00, 0x00, 0x0e, 0x00, 0x60, 0x00, 0x00, 0x0c, 0x00, 
  0x30, 0x00, 0x00, 0x18, 0x00, 0x30, 0x00, 0x00, 0x18, 0x00, 0x18, 0x00, 0x00, 0x30, 0x00, 0x1c, 
  0x00, 0x00, 0x70, 0x00, 0x0c, 0x00, 0x00, 0x60, 0x00, 0x06, 0x00, 0x00, 0x60, 0x00, 0x06, 0x00, 
  0x00, 0xc0, 0x00, 0x03, 0x00, 0x00, 0xc0, 0x00, 0x03, 0x00, 0x01, 0x87, 0x80, 0xc3, 0x00, 0x01, 
  0x87, 0xc1, 0x81, 0x80, 0x01, 0x8c, 0xc3, 0x01, 0x80, 0x01, 0x0e, 0xc6, 0x01, 0x80, 0x03, 0x07, 
  0xcc, 0x00, 0xc0, 0x03, 0x03, 0x18, 0x00, 0xc0, 0x03, 0x00, 0x30, 0x00, 0xc0, 0x03, 0x00, 0x63, 
  0x00, 0xc0, 0x03, 0x00, 0xc7, 0xc0, 0xc0, 0x03, 0x01, 0x86, 0xc0, 0xc0, 0x03, 0x03, 0x0c, 0xc0, 
  0xc0, 0x01, 0x06, 0x07, 0xc0, 0x80, 0x01, 0x8c, 0x03, 0x81, 0x80, 0x01, 0x80, 0x00, 0x01, 0x80, 
  0x00, 0xc0, 0x00, 0x03, 0x00, 0x00, 0xc0, 0x00, 0x03, 0x00, 0x00, 0x60, 0x00, 0x06, 0x00, 0x00, 
  0x70, 0x00, 0x0e, 0x00, 0x00, 0x38, 0x00, 0x1c, 0x00, 0x00, 0x0f, 0x00, 0x70, 0x00, 0x00, 0x07, 
  0xff, 0xe0, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00
};

// 'barometer', 40x40px
const unsigned char barometer [] PROGMEM = {
  0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x0f, 0xff, 0xf0, 0x00, 0x00, 0x3f, 0xff, 0xfc, 0x00, 0x00, 
  0x7f, 0x3c, 0xfe, 0x00, 0x01, 0xf8, 0x3c, 0x1f, 0x80, 0x03, 0xe0, 0x3c, 0x07, 0xc0, 0x07, 0xc0, 
  0x18, 0x03, 0xe0, 0x0f, 0xc0, 0x00, 0x03, 0xf0, 0x0f, 0xe0, 0x00, 0x07, 0xf0, 0x1f, 0xe0, 0x00, 
  0x07, 0xf8, 0x3c, 0xe0, 0x00, 0x07, 0x3c, 0x38, 0x00, 0x00, 0x00, 0x1c, 0x78, 0x00, 0x00, 0x60, 
  0x1e, 0x70, 0x00, 0x01, 0xf0, 0x0e, 0x70, 0x00, 0x07, 0xf0, 0x0e, 0x70, 0x00, 0x1f, 0xe0, 0x0e, 
  0xe0, 0x00, 0x7f, 0xe0, 0x07, 0xe0, 0x00, 0xfd, 0xc0, 0x07, 0xfc, 0x00, 0xf1, 0xc0, 0x3f, 0xfe, 
  0x01, 0xe3, 0xc0, 0x7f, 0xfe, 0x01, 0xe3, 0x80, 0x7f, 0xfc, 0x00, 0xff, 0x80, 0x3f, 0xe0, 0x00, 
  0xff, 0x00, 0x07, 0xe0, 0x00, 0x7e, 0x00, 0x07, 0x70, 0x00, 0x18, 0x00, 0x0e, 0x70, 0x00, 0x00, 
  0x00, 0x0e, 0x70, 0x00, 0x00, 0x00, 0x0e, 0x78, 0x00, 0x00, 0x00, 0x1e, 0x3c, 0x00, 0x00, 0x00, 
  0x3c, 0x3f, 0xff, 0xff, 0xff, 0xfc, 0x1f, 0xff, 0xff, 0xff, 0xf8, 0x0f, 0xff, 0xff, 0xff, 0xf0, 
  0x0f, 0x80, 0x00, 0x00, 0x00, 0x07, 0xc0, 0x00, 0x00, 0x00, 0x03, 0xe0, 0x00, 0x04, 0x00, 0x01, 
  0xf8, 0x00, 0x1e, 0x00, 0x00, 0x7f, 0x00, 0xfe, 0x00, 0x00, 0x3f, 0xff, 0xfc, 0x00, 0x00, 0x0f, 
  0xff, 0xf0, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00
};


const uint8_t digital_7_50[4365] U8G2_FONT_SECTION("bdf_font") = 
  "h\0\5\4\5\6\3\6\6\32.\0\372\42\0\42\0\4\272\12R\20\12 \6\0 \350\2!\26D"
  "\64\230\212 Fx\340\3\42\14!N\20\42<\300\340\3\1\42\20,q\16\3B\360#$\14\62F"
  "\60A\0#K\324\272\251\227p\202\42d$BF\42d$B\206\31A\204Y(\242\204\20\224(\243"
  "\204A\206\10b\30QF\42d$B\206\22e\230A\206\10b\204\42\312P\242\204\20J\30A\204Y"
  "!d$BF\42d$B\206\12'\30\0$]\324\265\226\253 G$\220\352\17\10\361\300\3J<"
  "A )\344\220B\16)\344\220B\16)\344\220B\16)\344\220B\16)\344\214(D\63\257\274\20H"
  "\13\42\216D\6Id\220D\6Id\220D\6Id\220D\6Id\220D\6\201d\264\360\0\11#"
  "\274\60\304\13\301\23HE!C\2%bX\64\310\13\23\304\31\344\4q\310X\245\210 H \205\14"
  "B\10)\203\20\272Q\10\11D\204A\12\11f\24#\302\31\4\205pD\231\204\22:\352\250\302\12\71"
  "\352D\251Y&\31\351\24q\302\60d\234\60J\61#\220B\310 \204\24\62\10U\246Q\312\10D\204"
  "A\314\10G\24\63\302!\2\205p\2\0&X\226\64\267\223\25\2z\206\205\221R\30f\250aH\32"
  "\206\244aH\32\206\244aH\32\206\244a\306\22'\264\200\32z%\204GFhA\10\322\206 \214\10"
  "\302\210 \214\10\302\210 \214\10\302\210 \214\10\302\210 m\210a\37\20\342\1#\36\60\342\201\362\1"
  "\32T\324 \0'\14$q\236\202\7Z\30\42\4\0(#L\64\30\27S\220\10\1\205\21L \210"
  "\376\241\221\304\7C\250\221\10\242\277\64\224\10\246 \202\212\11\0) K<\30\7C\320@\304\4\201"
  "\310\241\177h$\361\1\20h\34\372/\230 \2\32\210\30\2\0*\37P\62J\243\340\6\243\14\21T"
  "x\301\215F\224Q\245\11'\36 \202\62\204\221\66\134\70\0+\24\17zZ\237\320\6\233;-<\360"
  "B;\203\315\265p\0,\14D\261\226\202\17\210\60D\10\0-\14\217\370[\207\26\36x\241\5\0."
  "\10\204\60\230\202\7\2/.S<\230\277\1\211+\216\270\342\210+\216\270\342\210+\216<\362\6\234\240"
  "p\2N\217r\305\21W\34q\305\21W\34q\305\221G\240\200\0\60-T\64\230\213\27\202x\341\1"
  "\22\306h\301\64\304\360_\63O\204\20C\10\221<\323\16\303\77v\32\31-<@\302\10/\14\361B"
  "\10\0\61\30D\64\230\212 Fx\340\3\42\14!\224\10\17|@\204I\204\0\0\62+T\64\230\213"
  "\27\202x\341\1\22\306ha@\372/\16\322\202\30/D\341\211\21\332 \220\376\301A\335x@\220\7"
  "\4y \10\0\63,T\64\230\213\27\202x\341\1\22\306ha@\372/\16\322\202\30/\204\361B "
  "-\210\70 \375\67Zx\200\204\21^\30\342\205\20\0\64\37T\64\230\313 \313;\355\60\374\307\216+"
  "\242\5\61^y\246\5\21\7\244\377\342L\206\0\0\65,T\64\230\213\7\302x@\210\7\204qcD"
  "\2\351\37\34\241\221\20^y!\220\26D\34\220\376\33-<@\302\10/\14\361B\10\0\66\60T\64"
  "\230\213\7\302x@\210\7\204qcD\2\351\37\34\241\221\20\336\10\341\5\22Z\60\355\60\374c\247\221"
  "\321\302\3$\214\360\302\20/\204\0\0\67\42T\64\230\213\27\202x\341\1\22\306h\301\64\304\360_\63"
  "O\204\20\303\7G\304\1\351\277\70\223!\0\70\61T\64\230\213\27\202x\341\1\22\306h\301\64\304\360"
  "_\63\241\5\21Bx!\12/\220\320\202i\207\341\37;\215\214\26\36 a\204\27\206x!\4\0\71"
  "/T\64\230\213\27\202x\341\1\22\306h\301\64\304\360_\63\241\5\21Bx!\214\27\2iA\304\1"
  "\351\277\321\302\3$\214\360\302\20/\204\0\0:\14\204\362\231\202\7\302\7\361\201\0;\20$\264\226\202"
  "\7\302\207\344\3-\14\21\2\0<\22\215\362)\247\221\312\61\306~\307 \373\241\222F\0=\22\217\371"
  "Z\207\26\36x\241}\10\264\360\300\13-\0>\21\214\372)\203\221\10\252\277SL\375\16A#\1\77"
  "&T\64\230\213\27\202x\341\1\22\306ha@\372/\16\322\202\30/\204\361\204\20m\214H \275\17"
  "\33\4\322 \0@LT\64\230\213\27\202x\341\1\22\306h\301\64\304\260\362\310\3\201<\20\214#\243"
  " B\10\42\204 \62\214)\2\211\20b\10A\216\42\220!\303\34B\10\42\204 \62\12\62&\34\202"
  "\302!H\230\202\6\201\4\16\332\310\3\241<\363\6\0A,T\64\230\213\27\202x\341\1\22\306h\301"
  "\64\304\360_\63\241\5\21Bx!\214'\204h\241\270\303\360\277v\332\10\302\15\21^\10\0B\62T"
  "\64\230\203\7\2y@\214\7\204iA\204\321\20\303\177\315\204\26D\10\341\215\20\236\30\241\5\323\16\303"
  "\77v\32\31-\210\360\200\30\17\210\361@ \0C$R\64x\213\7Bx\340\1B\134\30\217\70\372"
  "\347\6\14\61\300\361\210\243\177nH\27\36\20\342\1!\36\10D-T\64\230\203\7\2y@\214\7\204"
  "iA\204\321\20\303\177\315<\21\302\14r<\323\16\303\77v\32\31-\210\360\200\30\17\210\361@ \0"
  "E)R\64x\213\7Bx\340\1B\134\30\217\70\372\347Fh\42\204\27Bx`\204\26\210\243\177n"
  "H\27\36\20\342\1!\36\10F#R\64x\213\7Bx\340\1B\134\30\217\70\372\347Fh\42\204\67"
  "\36\20\242\205\361\210\243\377=\21\303\3G\60T\64\230\213\7\302x@\210\7\204qcD\2\351\37\34"
  "\251\220\220\316\10\351\4\222J\60\355\60\374c\247\221\321\302\3$\214\360\302\20/\204\0\0H&T\64"
  "\230\213\360\202\20\356\264\213\341\177\315\204\26D\10\341\225'\204h\241\270\303\360\277v\332\10\302\15\21^"
  "\10\0I\30D\64\230\212 Fx\340\3\42\14!\224\10\17|@\204I\204\0\0J#T\64\230\313"
  " G\234 \375\27\207\24\65D\362L;\14\377\330id\264\360\0\11#\274\60\304\13!\0K=T"
  "\64\230\213\320\206\20,)\225L \310\10r\314 \306\20RL!\304\30\62\314!\302 \22L\42\241"
  "(\22\310\32Q\210f^yB\210\26\212;\14\377k\247\215 \334\20\341\205\0\0L!T\64\230\213"
  " E$\220\376\7G\24\37\240 G$\220\376\27\232 \341\5\21\36\10\42\204\27\0M\77T\64\230"
  "\213\27\202x\341\1\22\306h\301\64D\10A\204\20D\10A\204\20D\10A\204\20D\10A\204\20D"
  "\10A\204\24S\210\21!\34\201\2\25\260\270\303\360\277v\332\10\302\15\21^\10\0N\65T\64\230\213"
  "\360\202\20\356\264+\14\204\2\71(\24\203D)h\24\202H\31\250\24\201L\11\350\64\264\134\201\342\203"
  "$`q\207\341\177\355\264\21\204\33\42\274\20\0O)T\64\230\227\205Z\11\241\221\21V\20\201\60\374"
  "\307\216+P|\220\4,\356\60\374c$\14F\204\10+\210\322NC\213\0P'T\64\230\203\7\2"
  "y@\214\7\204iA\204\321\20\303\177\315\204\26D\10\341\225'\204hcD\2\351\177Q\314\20\1Q"
  "]U\64\230\213\27\302xa\204\7B\30\244\205\251\221@\30\11\204\221@\30\11\204\221@\30\11\204\221"
  "@\30\11\204\221@\30\11\244\215\60\236\20!\6\21\346x\42\220\66\2a$\20F\2a$\20F\2"
  "a$\20\64\2\205H\30\201\240\22D \310\204\20\206\62E\5\23\134\60\301\205\42\134 RDT\64"
  "\230\213\27\202x\341\1\22\306h\301\64\304\360_\63\241\5\21Bx!\214'\204hcD\22\310\42\241"
  "(\22L\42\302 \62\314!\304\30RL!\306\20r\314 \310\10\222L \312\4\301\212\10m\4\0"
  "S+T\64\230\213\7\204x\340\201\64\236\30\221@\372\7Gh$\204W^\10\244\5\21\7\244\377F"
  "\13\17\220\60\302\13C\274\20\2\0T\34T\64\230\213\7\204x\340\201\64\236'\220\376E\361\301\26\221"
  "@\372_\234dH\0U'T\64\230\213\360\202\20\356\264\213\341\177\315<\21\302\14\221<\323\16\303\77"
  "v\32\31-<@\302\10/\14\361B\10\0V\70T\64\230\213\360\202\20\356\264\213\341\77v\134\201\342"
  "\3\25\42y\246\241E\2QE\20T\10\71\244\224B\16!\5\21Q\24\11d\221\60\332\10\342\211 "
  "`\10!\6\5\0W>T\64\230\213\360\202\20\356\264\213\341\77v\134\201\242\206#\20)\304\30B\312"
  "!\204 B\10\42\204 B\10\42\204 B\10\42\204 B\10\42\204\234FF\13\17\220\60\302\13C"
  "\274\20\2\0XWS<\230\7\301F \13)\225\210 \250\210r\10!\246\220R\210!\244\230\62\10"
  "\42\242\240\22\210\42\201(\22\6\33a\260\21F\23A\70\21D\33A\264\21\306\42a,\22H*\201"
  "$\42\312)\203\34BJ)\205\62e\224C\6A%\224D\2Qi\221 \330\10\0Y'T\64\230"
  "\313 \313;\355\60\374\307\216+\242\5\61^y!\220\26D\34\220\376\33-<@\302\10/\14\361B"
  "\10\0Z:T\64\230\213\26\206p\341\201\21\312X\241\270\362\312#\257<\362\312#\257<\362\312#\220"
  "\300\361\6\244^y\344\225G^y\344\225G^y\344\225\240\10\11\213\220\300\210\10M\0[\35J\64"
  "\370\12\24\36\30\244\210q\210\241\177f\240\220\2\32\207\30\372g\206*\42\23\10\134/S<\230\7\1"
  "\311#\257<\362\312#\257<\362\312#\257<\12NQP\21E\34p@\362\310+\217\274\362\310+\217"
  "\274\362\310+\217\274\21\0] I<\370\2\23B(a\4\22\206\30a\230\371\337\21Y\230\371\237\30"
  "a\4\22PH!\4\0^$\264q\235\247 E\10o\4\321H\30\253\4\222L(\307\214RL)"
  "\303\234\22LR\13\265!\302\13\1\0_\20\224\60\230\217'\36(\341\1\42\36\20\1\0`\15\11\361"
  "\336\6ah\246\224R\210\31a,T\64\230\213\27\202x\341\1\22\306h\301\64\304\360_\63\241\5\21"
  "Bx!\214'\204h\241\270\303\360\277v\332\10\302\15\21^\10\0b\62T\64\230\203\7\2y@\214"
  "\7\204iA\204\321\20\303\177\315\204\26D\10\341\215\20\236\30\241\5\323\16\303\77v\32\31-\210\360\200"
  "\30\17\210\361@ \0c$R\64x\213\7Bx\340\1B\134\30\217\70\372\347\6\14\61\300\361\210\243"
  "\177nH\27\36\20\342\1!\36\10d-T\64\230\203\7\2y@\214\7\204iA\204\321\20\303\177\315"
  "<\21\302\14r<\323\16\303\77v\32\31-\210\360\200\30\17\210\361@ \0e)R\64x\213\7B"
  "x\340\1B\134\30\217\70\372\347Fh\42\204\27Bx`\204\26\210\243\177nH\27\36\20\342\1!\36"
  "\10f#R\64x\213\7Bx\340\1B\134\30\217\70\372\347Fh\42\204\67\36\20\242\205\361\210\243\377"
  "=\21\303\3g\60T\64\230\213\7\302x@\210\7\204qcD\2\351\37\34\251\220\220\316\10\351\4\222"
  "J\60\355\60\374c\247\221\321\302\3$\214\360\302\20/\204\0\0h&T\64\230\213\360\202\20\356\264\213"
  "\341\177\315\204\26D\10\341\225'\204h\241\270\303\360\277v\332\10\302\15\21^\10\0i\30D\64\230\212"
  " Fx\340\3\42\14!\224\10\17|@\204I\204\0\0j#T\64\230\313 G\234 \375\27\207\24"
  "\65D\362L;\14\377\330id\264\360\0\11#\274\60\304\13!\0k=T\64\230\213\320\206\20,)"
  "\225L \310\10r\314 \306\20RL!\304\30\62\314!\302 \22L\42\241(\22\310\32Q\210f^"
  "yB\210\26\212;\14\377k\247\215 \334\20\341\205\0\0l!T\64\230\213 E$\220\376\7G\24"
  "\37\240 G$\220\376\27\232 \341\5\21\36\10\42\204\27\0m\77T\64\230\213\27\202x\341\1\22\306"
  "h\301\64D\10A\204\20D\10A\204\20D\10A\204\20D\10A\204\20D\10A\204\24S\210\21!"
  "\34\201\2\25\260\270\303\360\277v\332\10\302\15\21^\10\0n\65T\64\230\213\360\202\20\356\264+\14\204"
  "\2\71(\24\203D)h\24\202H\31\250\24\201L\11\350\64\264\134\201\342\203$`q\207\341\177\355\264"
  "\21\204\33\42\274\20\0o)T\64\230\227\205Z\11\241\221\21V\20\201\60\374\307\216+P|\220\4,"
  "\356\60\374c$\14F\204\10+\210\322NC\213\0p'T\64\230\203\7\2y@\214\7\204iA\204"
  "\321\20\303\177\315\204\26D\10\341\225'\204hcD\2\351\177Q\314\20\1q]U\64\230\213\27\302x"
  "a\204\7B\30\244\205\251\221@\30\11\204\221@\30\11\204\221@\30\11\204\221@\30\11\204\221@\30\11"
  "\244\215\60\236\20!\6\21\346x\42\220\66\2a$\20F\2a$\20F\2a$\20\64\2\205H\30"
  "\201\240\22D \310\204\20\206\62E\5\23\134\60\301\205\42\134 rDT\64\230\213\27\202x\341\1\22"
  "\306h\301\64\304\360_\63\241\5\21Bx!\214'\204hcD\22\310\42\241(\22L\42\302 \62\314"
  "!\304\30RL!\306\20r\314 \310\10\222L \312\4\301\212\10m\4\0s+T\64\230\213\7\204"
  "x\340\201\64\236\30\221@\372\7Gh$\204W^\10\244\5\21\7\244\377F\13\17\220\60\302\13C\274"
  "\20\2\0t\34T\64\230\213\7\204x\340\201\64\236'\220\376E\361\301\26\221@\372_\234dH\0u"
  "'T\64\230\213\360\202\20\356\264\213\341\177\315<\21\302\14\221<\323\16\303\77v\32\31-<@\302\10"
  "/\14\361B\10\0v\70T\64\230\213\360\202\20\356\264\213\341\77v\134\201\342\3\25\42y\246\241E\2"
  "QE\20T\10\71\244\224B\16!\5\21Q\24\11d\221\60\332\10\342\211 `\10!\6\5\0w>"
  "T\64\230\213\360\202\20\356\264\213\341\77v\134\201\242\206#\20)\304\30B\312!\204 B\10\42\204 "
  "B\10\42\204 B\10\42\204 B\10\42\204\234FF\13\17\220\60\302\13C\274\20\2\0xWS<"
  "\230\7\301F \13)\225\210 \250\210r\10!\246\220R\210!\244\230\62\10\42\242\240\22\210\42\201("
  "\22\6\33a\260\21F\23A\70\21D\33A\264\21\306\42a,\22H*\201$\42\312)\203\34BJ"
  ")\205\62e\224C\6A%\224D\2Qi\221 \330\10\0y'T\64\230\313 \313;\355\60\374\307"
  "\216+\242\5\61^y!\220\26D\34\220\376\33-<@\302\10/\14\361B\10\0z:T\64\230\213"
  "\26\206p\341\201\21\312X\241\270\362\312#\257<\362\312#\257<\362\312#\220\300\361\6\244^y\344\225"
  "G^y\344\225G^y\344\225\240\10\11\213\220\300\210\10M\0{\42O<H\233TTI\251\234\301"
  "\310\242\77\66\16\21\302\230d\24\21\202\215E\377\326x\345$\243L\2|\20D\64\230\212 Fx\340"
  "\77\240\302$B\0}#O<H\3t\322A\250<\301\346\77&B\71!\34\23\302\61\42\224\63\330"
  "\374k\2\225\204L\62\350\0~\36T\71\254\27\21\11$m\4\21F\31\241\210\62\224(\243\204AF"
  "\230Xy\5\216\2\0\251XW\64\270\213\7\6y`\204\7N\30\343\1\4\321\303\206\22H,\201\304"
  "\22\250\234\201\304PH\220\204\4IH\220\204\4IH\220\204\4IH\220\204\4IH\220\204\4IH"
  "\220\204\304\10f \61\302\21h\210p\4z\330;\220\214\7\36Ha\204\7F\30\342\201\21B\0\0"
  "\0\0\4\377\377 \23\21\224\370\253\207\7Fx\340\1\25\36\30\1\0 \24\21\226\370\273\207\7Jx"
  "\340\1\27\36(\1\0 \30\14$q\236\212 \36x \0 \31\15$q\236\202\7Z\30\42\4\0"
  " \34\20,q\16\213`\302\30d\4B\360#\4 \35\21,q\16\3B\360#$\14\62F\60A"
  "\0 \42\27\316\261*\227rPQ\203\211\7>\240B\27\330X$\235B\0 \60sX\64\310\13\22"
  "BDJ\20\22F\42\42\10\21\6*\202\210q\214 b\30\63\210\30\305\20B\2\61\205\204A\314\21"
  "\241\214\202D(\203D\21F\34AD\62+Yo\222*\62\11\201\224 J\11b\224 \314\10d\214"
  "@H \344\20\62\4\21C\20\62\4\21C\20\62\4\21C\20\62\202\20A\214 D #\220\61\2"
  ")#\220\201L\10\244\204@\4\0\0";


void setup()
{
  Serial.begin(115200);
  delay(10);
  bme.begin();
  display.init(115200);
  u8g2Fonts.begin(display);
  display.setRotation(0);
  display.firstPage();
  do
  {
    display.fillScreen(bg);
    display.drawBitmap(2, 12, tempgif, 50, 57, GxEPD_BLACK);
    display.drawLine(5,75,195,75,GxEPD_BLACK);
    display.drawLine(5,76,195,76,GxEPD_BLACK);
    display.drawBitmap(2, 82, humidity, 40, 40, GxEPD_BLACK);
    display.drawLine(5,130,195,130,GxEPD_BLACK);
    display.drawLine(5,131,195,131,GxEPD_BLACK);
    display.drawBitmap(2, 142, barometer, 40, 40, GxEPD_BLACK);
  }
    while (display.nextPage());
    
}

void loop()

{
  sensorValue = analogRead(analogInPin);
  Serial.println("sensor = ");
  Serial.println(sensorValue);
   if (sensorValue < 512 ) //Wenn der Sensorwert über 512 beträgt….
    {
      digitalWrite(LED1, HIGH); //…soll die LED leuchten…
      digitalWrite(LED2, HIGH); //…soll die LED leuchten…

     }

   else //andernfalls…
     {
       digitalWrite(LED1, LOW); //….soll sie nicht leuchten.
       digitalWrite(LED2, LOW); //….soll sie nicht leuchten.

     }
  
  temp();
  hum();
  ha();
  delay(50);
}

void temp()
{
  float temp = bme.readTemperature();
  uint16_t bg = GxEPD_WHITE;
  uint16_t fg = GxEPD_BLACK;
  u8g2Fonts.setFontMode(1);                 // use u8g2 transparent mode (this is default)
  //u8g2Fonts.setFontDirection(0);            // left to right (this is default)
  u8g2Fonts.setForegroundColor(fg);         // apply Adafruit GFX color
  u8g2Fonts.setBackgroundColor(bg);         // apply Adafruit GFX color
  u8g2Fonts.setFont(digital_7_50);  // select u8g2 font from here: https://github.com/olikraus/u8g2/wiki/fntlistall
  display.setPartialWindow(60, 5, 125, 70);
  display.firstPage();
  do
  {
    display.fillScreen(bg);
    u8g2Fonts.setCursor(65, 65);
    //if (temp >= 20) u8g2Fonts.print("+");
    if (temp < 0 & temp> -10) u8g2Fonts.print("-");
    //if (temp >= 0 & temp < 20) u8g2Fonts.print(" +");
    u8g2Fonts.println(temp,1);
    u8g2Fonts.print("˚");
    //Serial.println(temp);

  }
  
  while (display.nextPage());
}



void hum()
{
  float hum = bme.readHumidity();

  uint16_t bg = GxEPD_WHITE;
  uint16_t fg = GxEPD_BLACK;
  u8g2Fonts.setFontMode(1);                 // use u8g2 transparent mode (this is default)
  //u8g2Fonts.setFontDirection(0);            // left to right (this is default)
  u8g2Fonts.setForegroundColor(fg);         // apply Adafruit GFX color
  u8g2Fonts.setBackgroundColor(bg);         // apply Adafruit GFX color
  u8g2Fonts.setFont(digital_7_50);  // select u8g2 font from here: https://github.com/olikraus/u8g2/wiki/fntlistall
  display.setPartialWindow(60, 77, 125, 52);
  display.firstPage();
  do
  {
    display.fillScreen(bg);
    u8g2Fonts.setCursor(65, 120);
    u8g2Fonts.print(hum, 1);
    u8g2Fonts.print("%");
    //Serial.println(hum);
  }
  
  while (display.nextPage());
}

void ha()
{
  float ha = (bme.readPressure() / 100.0F);

  uint16_t bg = GxEPD_WHITE;
  uint16_t fg = GxEPD_BLACK;
  u8g2Fonts.setFontMode(1);                 // use u8g2 transparent mode (this is default)
  //u8g2Fonts.setFontDirection(0);            // left to right (this is default)
  u8g2Fonts.setForegroundColor(fg);         // apply Adafruit GFX color
  u8g2Fonts.setBackgroundColor(bg);         // apply Adafruit GFX color
  u8g2Fonts.setFont(digital_7_50);  // select u8g2 font from here: https://github.com/olikraus/u8g2/wiki/fntlistall
  display.setPartialWindow(56, 135, 125, 52);
  display.firstPage();
  do
  {    
    display.fillScreen(bg);
    u8g2Fonts.setCursor(65, 180);
    u8g2Fonts.print(ha,1);
    //Serial.println(ha);
  }
  
  while (display.nextPage());
}
